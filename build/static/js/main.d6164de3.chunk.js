(this["webpackJsonpharmony-app"]=this["webpackJsonpharmony-app"]||[]).push([[0],{100:function(e,t,a){e.exports=a(141)},105:function(e,t,a){},138:function(e,t){},141:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(8),o=a.n(l),i=(a(105),a(16)),s=a(45),u=a(82);!function(e){e[e.INVERT_THEME=0]="INVERT_THEME",e[e.TOGGLE_NAME_DIALOG=1]="TOGGLE_NAME_DIALOG",e[e.CHANGE_NAME=2]="CHANGE_NAME"}(n||(n={}));var m=a(51),f=a(167);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={theme:{type:"dark",primary:m.a,secondary:f.a},nameDialog:!1,name:"Anonymous User #".concat(Math.floor(1e3*Math.random()))};var d=Object(s.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.INVERT_THEME:return p({},e,{theme:p({},e.theme,{type:"dark"===e.theme.type?"light":"dark"})});case n.TOGGLE_NAME_DIALOG:return p({},e,{nameDialog:!e.nameDialog});case n.CHANGE_NAME:return p({},e,{name:t.payload});default:return e}})),b=a(173),y=a(174),h=a(175),O=a(169),v=a(171),x=a(172),j=a(39),N=a(83),w=Object(N.a)((function(e){return{drawerButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function k(){return{type:n.TOGGLE_NAME_DIALOG}}function C(){var e=w(),t=Object(i.b)();return c.a.createElement(O.a,null,c.a.createElement(v.a,null,c.a.createElement(x.a,{edge:"start",className:e.drawerButton,color:"inherit","aria-label":"menu"},c.a.createElement(b.a,null)),c.a.createElement(j.a,{variant:"h6",className:e.title},"#general"),c.a.createElement(x.a,{onClick:function(){return t(k())}},c.a.createElement(y.a,null)),c.a.createElement(x.a,{onClick:function(){return t({type:n.INVERT_THEME})}},c.a.createElement(h.a,null))))}var A=a(88),T=a(26),G=a(85),D=a.n(G),M=Object(N.a)((function(e){return{container:{display:"flex",overflow:"auto",flex:1,flexFlow:"column",flexDirection:"column"},messageBoxContainer:{flex:"0 0 auto",display:"flex",paddingRight:e.spacing(1)},valign:{display:"flex",alignItems:"center"},chatBoxContainer:{flex:"1 1 auto",overflow:"auto"},chatBox:{flex:1},messageBox:{width:"100%"}}})),S=a(182),_=Object(N.a)((function(e){return{messageContainer:{minHeight:"60px",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),backgroundColor:"rgb(240, 240, 240)"},inline:{display:"inline"},message:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(1)},messageLight:{backgroundColor:"rgb(133, 133, 133, 0.1)"},messageText:{whiteSpace:"pre-line"},userText:{marginRight:e.spacing(1)},fileSection:{width:"100%"},imageUpload:{height:"200px"}}})),B=a(176),I=a(177),L=a(178),R=function(e){var t=_();return c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{alignItems:"flex-start",className:"".concat(t.message," ").concat(0===e.index?t.messageLight:"")},c.a.createElement(I.a,{primary:c.a.createElement(j.a,{component:"span",variant:"body2",className:t.userText,color:"textPrimary"},e.user),secondary:c.a.createElement(j.a,{component:"span",variant:"body2",className:t.messageText,color:"textSecondary"},e.message)}),c.a.createElement(L.a,{variant:"middle"}),c.a.createElement("div",{className:t.fileSection},e.files.map((function(e){return c.a.createElement("img",{key:e,className:t.imageUpload,src:e})})))))},P="USERNAME_UPDATE",H="MESSAGE",U="LOGIN",F=Object(N.a)((function(e){return{container:{display:"flex",overflow:"auto",flex:1,flexFlow:"column",flexDirection:"column"},messageBoxContainer:{flex:"0 0 auto",display:"flex",paddingRight:e.spacing(1)},valign:{display:"flex",alignItems:"center"},chatBoxContainer:{flex:"1 1 auto",overflow:"auto"},chatBox:{flex:1},messageBox:{width:"100%"}}})),V=a(193),J=a(190),K=a(181),Y=a(183),q=function(e){var t=F(),a=Object(r.useState)(""),n=Object(T.a)(a,2),l=n[0],o=n[1],i=Object(r.useRef)(null);return c.a.createElement("div",{className:t.messageBoxContainer},c.a.createElement("div",{className:t.valign},c.a.createElement("input",{type:"file",id:"file",ref:i,style:{display:"none"},onChange:function(t){if(t.currentTarget.files&&t.currentTarget.files.length>0){var a=new FileReader;a.readAsDataURL(t.currentTarget.files[0]),a.addEventListener("load",(function(){e.socket.emit(H,{message:"Image Upload",author:e.name,files:[a.result]})}))}}}),c.a.createElement(V.a,{title:"Send Image"},c.a.createElement(x.a,{onClick:function(){i.current&&i.current.click()}},c.a.createElement(K.a,null)))),c.a.createElement(J.a,{onKeyPress:function(t){if("Enter"===t.key)if(t.preventDefault(),t.shiftKey)o(l+"\n");else{var a=t.target.value;e.socket.emit(H,{author:e.name,message:a,files:[]}),t.target.selectionEnd=0,o("")}},value:l,onChange:function(e){return o(e.target.value)},className:t.chatBox,label:e.connected?"Send Message":"Currently Offline",multiline:!0,rows:"2",margin:"normal"}),e.connected?void 0:c.a.createElement("div",{className:t.valign},c.a.createElement(V.a,{title:"Currently Offline. You will not be able to send messages."},c.a.createElement(x.a,null,c.a.createElement(Y.a,null)))))},z=D()("http://localhost:4000"),Q=function(){var e=M(),t=Object(r.useState)([]),a=Object(T.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),s=Object(T.a)(o,2),u=s[0],m=s[1],f=Object(i.c)((function(e){return e.name})),g=Object(r.useRef)(!0);return Object(r.useEffect)((function(){g.current||z.emit(P,{name:f})}),[f]),Object(r.useEffect)((function(){g.current=!1,z.on("connect",(function(){m(!0),z.emit(U,{name:f})})),z.on("disconnect",(function(){m(!1)})),z.on(H,(function(e){l((function(t){return[].concat(Object(A.a)(t),[{author:e.author,message:e.message,files:e.files}])}))}))}),[]),c.a.createElement("div",{className:e.container},c.a.createElement("div",{className:e.chatBoxContainer},c.a.createElement(S.a,null,n.map((function(e,t){return c.a.createElement(R,{key:t,index:t%2,user:e.author,files:e.files,message:e.message})})))),c.a.createElement(q,{socket:z,connected:u,name:f}))},W=Object(N.a)((function(e){return{navbarSpacer:e.mixins.toolbar,"@global":{"::-webkit-scrollbar":{width:"10px"},"::-webkit-scrollbar-track":{backgroundColor:"dark"===e.palette.type?"rgb(46, 46, 46)":"rgb(245, 245, 245)"},"::-webkit-scrollbar-thumb":{backgroundColor:"dark"===e.palette.type?"rgb(64, 64, 64)":"rgb(200, 200, 200)"}}}})),X=a(87),Z=a(189),$=a(188),ee=a(192),te=a(184),ae=a(185),ne=a(186),re=a(187),ce=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return[e.nameDialog,e.name]})),a=Object(T.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)(o),u=Object(T.a)(s,2),m=u[0],f=u[1];return c.a.createElement(ee.a,{open:l,onClose:function(){return e(k())}},c.a.createElement(te.a,null,"Change Username"),c.a.createElement(ae.a,null,c.a.createElement(J.a,{label:"Username",value:m,onChange:function(e){return f(e.target.value)}})),c.a.createElement(ne.a,null,c.a.createElement(re.a,{onClick:function(){var t;e((t=m,{type:n.CHANGE_NAME,payload:t})),e(k())},color:"primary",autoFocus:!0},"Apply")))},le=function(){var e=W(),t=Object(i.c)((function(e){return e.theme})),a=t.type,n=t.primary,r=t.secondary,l=Object(X.a)({palette:{type:a,primary:n,secondary:r}});return c.a.createElement("div",{className:"app-container"},c.a.createElement($.a,{theme:l},c.a.createElement(Z.a,null),c.a.createElement(C,null),c.a.createElement("div",{className:e.navbarSpacer}),c.a.createElement(ce,null),c.a.createElement(Q,null)))},oe=function(){return c.a.createElement(i.a,{store:d},c.a.createElement(le,null))};o.a.render(c.a.createElement(oe,null),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.d6164de3.chunk.js.map